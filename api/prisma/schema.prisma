// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

//CAR MODEL

// model Car {
//   id Int @default(autoincrement()) @id
//   model String
//   year Int
//   user User @relation(fields: [userId], references: [id])
//   userId Int
// }

//USER MODEL

// model User {
//   id Int @default(autoincrement()) @id
//   username String @unique
//   password String
//   cars Car[]
// }

//PROYECTO FINAL

model Role {
  id   Int    @id @default(autoincrement())
  name String @unique
}

model User {
  id           Int       @id @default(autoincrement())
  roleId       Int
  firstName    String
  lastName     String
  about        String
  phoneNumber  String
  email        String    @unique
  country      String
  image        String
  showImage    Boolean
  skillTags    String[]
  experience   Json[]
  education    Json[]
  languages    Json[]
  postulations Post[]
  followed     Company[]
}

model Company {
  id              Int      @id @default(autoincrement())
  roleId          Int
  name            String
  legalName       String
  email           String   @unique
  password        String
  stin            String
  accountManagers String[]
  image           String
  posts           Post[]
  companyValues   String
  mission         String
  vision          String
  reviews         Json[]
  followers       User[]
}

model Post {
  id           Int      @id @default(autoincrement())
  // company String
  company      Company  @relation(fields: [companyId], references: [id])
  companyId    Int
  description  String
  location     String
  modality     String
  contractType String
  salary       String
  endDate      String
  tags         String[]
  applicants   User[]
}
